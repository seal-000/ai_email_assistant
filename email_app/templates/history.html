<!DOCTYPE html>
<html>
<head>
    <title>History</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<header class="w-full bg-blue-200 p-4  flex justify-between items-center">
    <h1 class="text-xl font-bold">AI-Mail Assistant</h1>
    {% if session %}
        <a href="/" class="text-blue-700 hover:underline">Home</a>
    {% endif %}
</header>

<body class="bg-blue-100 min-h-screen flex flex-col items-center pb-4">

   
  

    <h1 class="text-4xl font-bold mb-6 pt-8">User History</h1>
    {% if session %}
        <div class="bg-white shadow-md rounded-lg p-6 w-full max-w-6xl">
            <p class="text-lg mb-4"><strong>Email:</strong> {{ session.userinfo.email }}</p>
            
            <h2 class="text-2xl font-semibold mb-4">History Data</h2>
            <ul class="space-y-4">
                {% for history in user_history %}
                    <li class="bg-gray-50 p-4 rounded shadow">
                        <p><strong>Date:</strong> {{ history.created_at }}</p>
                        <p><strong>Original Text:</strong></p>
                        <pre class="bg-gray-100 p-2 rounded mb-2 overflow-x-auto">{{ history.original_text }}</pre>
                        <p><strong>Rephrased Text:</strong></p>
                        <pre class="bg-gray-100 p-2 rounded overflow-x-auto">{{ history.rephrased_text }}</pre>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <p class="text-lg text-red-500">No user session found.</p>
    {% endif %}
</body>
</html>